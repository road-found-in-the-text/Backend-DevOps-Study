> 다음은 그림과 작동 원리로 쉽게 이해하는 AWS 구조와 서비스 책을 읽고 정리한 글입니다.

## 클라우드 vs on-premise
온프레미스란 사용자가 관리하는 시설 내에 서버 등의 기기를 설치해 운용하는 환경을 의미한다.
aws와 같은 클라우드 서비스가 등장하기 전에는 정보 시스템을 구축하기 위해 자체적으로 관련 기기를 준비하고 설정해야 했다.

구매뿐만 아니라 물리적인 설치, 케이블 배선, 네트워크 설정 등의 작업은 굳이 우리가 하지 않고 전문 업체에 위탁할 수 있따.

클라우드란,
클라우드 서비스 제공자가 서버 등의 기기를 준비하고 거기에 구축된 가상 서버나 응용 프로그램 등을 사용자에게 제공하여 이용료를 받는 형태를 의미한다. 물리적인 기기나 네트워크는 서비스 제공자가 준비해 놓았으므로 사용자는 바로 정보 시스템을 구축할 수 있다.

클라우드 서비스에서 가장 핵심이 되는 용어는 단연 **임대**이다. 
사용자가 사용하고 싶은 사양으로 서버를 선택하면 가상화 기술을 이용해 해당 사양의 서버를 가상으로 생성해 사용한다.

## 서버리스
클라우드 서비스에서는 서버리스라는 단어를 자주 사용한다.
서비스가 이용될 때만 서버를 가동하는 방식을 가리키며, 클라우드 서비스는 보통 서버를 사용하는 시간만큼 요금이 발생하므로 요금이 부과되는 시간을 줄여 비용을 낮출 수 있다는 장점이 있다.

## 사용 형태
SaaS - 완성된 응용 프로그램 형태로 서비스를 제공하는 형태 ex) Gmail, Office365, Zoom
PaaS - 서버+미들웨어 ex) RDS, DynamoDB, Lambda
IaaS - 가상 서버. 서버 및 네트워크 기능만 제공하며 설정과 관리는 사용자의 몫이다.

## 루트 사용자와 IAM  사용자의 차이점?
루트 사용자는 모든 권한을 가지고 있고, IAM 사용자에게 적절한 권한을 부여해 서비스를 사용한다.

## 비용 관리 정책
Cost Explorer에서 올바르게 현황을 파악하고 방침을 수립하자.
Budgets에서 예산을 설정하고 이용량을 감시하자.

# amazon ec2의 외부 공개 및 접근 제어
퍼블릿 서브넷 / 퍼블릭 IP 주소 / 보안 그룹 등에 대한 키워드를 잘 이해하고 사용하자ㅠㅠ!!

어느 곳에서 어떤 곳으로 접근을 접근을 허가할지에 대한 접근 제어는 보안 그룹을 이용한다. 
보안 그룹은 온프레미스의 방화벽 기능을 수행한다.

외부->EC2 : **인바운드**
EC2->외부 : **아웃바운드**

예를 들어 리눅스 터미널 접속을 위한 SSH는 22번 포트, 웹 접속을 위한 HTTP는 80번 포트 사용
만약 EC2 A 에서 EC2 B로 통신을 허가해야 할 경우 EC2 B의 보안 그룹에 EC2 A의 보안 그룹 id를 지정한다.

## VPC 에서 네트워크 접근제어 - ACL VS 보안그룹 
설정 단위: 서브넷 단위 / 인스턴스 단위 이다.
허용/거부 설정 : 모두 가능 / 허용만 가능
규칙 우선순위 : 번호순 / 모두 평가


# amazon ec2 auto scaling
서버 추가 및 제거를 부하 상황에 맞게 자동으로 수행하는 것.
서버 추가를 **스케일 아웃**, 제거를 **스케일 인**이라고 한다.

# 서버리스 컴퓨팅 시스템 Lambda
대량의 트래픽이나 접속을 상시 처리하는 경우는 EC2쪽이 저렴해질 수 있다.
Node.js Java Python Powershell Ruby Go C# 등을 지ㅜ언한다.

# ECS로 누리는 컨테이너의 장점
AWS에서 컨테이너 시스템을 구축하는 경우 일반적으로 Amazon Elastic Container Service(이후 ECS)와 Amazon Kubernetes Service(EKS)라는 두 가지 서비스 중에서 선택할 수 있다. 두 서비스의 가장 큰 차이는 컨테이너 오케스트레이션 기능을 AWS가 담당하는지, Kubernetes쿠버네티스가 담당하는가 이다.
헉.. kubernetes service를 k8s라고 한다.. ks와 s사이에 8글자!

# 데이터 저장장소 Amazon S3
Amazon Simple Storage Service(S3)은 AWS에서 제공하는 객체 스토리지 서비스다.
스토리지란 데이터를 저장하는 장소를 의미하며, 객체란 택스트 파일이나 음성 파일 같은 데이터를 의미한다.
객체 스토리지는 기존의 파일 스토리지처럼 폴더 구조는 갖지 않고 객체 키로 데이터를 고유하게 식별해 데이터의 입출력과 관리를 수행한다.
키만으로 데이터를 관리하기 때문에 간편하게 대용량의 데이터를 저장하고 관리할 수 있다.

<특징>
- 용량 무제한
- 높은 내구성
- 저렴한 비용

<사용 용도>
정적 콘텐츠만 있는 단순한 HTML 페이지 만들 때 (동영상, 이미지, HTML 파일 등을 저장해 웹사이트처럼 운영 가능)
로그 분석 시스템을 만들기 위해 응용 프로그램의 로그를 실시간으로 저장하는 용도

* 보통 사용자가 데이터를 S3에 직접 연계하는 형태로 이용하여, 다른 서비스와의 연계하여 많이 사용한다.

# IP 주소 ??
CIDR 블록으로 IP 주소 범위 결정
172.31.0.0/16
/16은 서브넷 마스크를 나타낸다. 여기서는 10진수로 표기한다.

방화벽 서비스! -> 공격자가 우리의 웹서버에 비정상적으로 접근하지 않도록 막는 방법이다.

# 보안 관련 서비스
- 기밀성 : 정보가 유출되지 않도록 관리하는 것
- 무결성 : 정보가 손상되거나 손실되지 않고 최신의 상태인 것
- 가용성 : 정보를 언제나 사용할 수 있게 하는 것
**IAM** ?
root 계정 정보가 노출되면 해커가 고사양 EC2 인스턴스를 만드는 등의 행위로 막대한 요금이 청구될 수 있으며, 악성 코드 배포지로 악용될 가능성도 있다. 
따라서 root 사용자 계정은 처음 설정할 때에만 사용하고 2FA를 설정해 보안을 강화해야 한다.
그리고 별도의 계정을 만들어 사용자별로 권한을 나누고 각 사용자도 반드시 2FA를 이용하도록 정책을 만들어야 한다.
IAM이라는 서비스에서 이러한 설정(인증, 인가)을 관리할 수 있다!

# AWS CloudTrail
AWS 계정을 만들 때부터 자동으로 모든 작업을 기록하는 서비스
이 이력을 통해 AWS에서 누가 어떤 작업을 수행했는지 자세한 내용을 파악할 수 있어 사용자가 악의적인 조작을 하거나 프로그램 문제로 발생한 설정 변경 등을 조사할 수 있다.

아 근데 90일 뒤부터는 요금 청구됨 ㅠㅠㅠ

# AWS Config
EC2 인스턴스나 보안 그룹과 같은 AWS 자원에 대한 구성 정보와 변경 이력을 남기는 서비스
